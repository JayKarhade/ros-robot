<!--DOCTYPE html>
<html>
<head>
	<meta charset = "utf-8">
	<script src="http://cdn.robotwebtools.org/EventEmitter2/current/eventemitter2.min.js"></script>
	<script src="http://cdn.robotwebtools.org/roslibjs/current/roslib.min.js"></script>
	<script src="http://cdnjs.cloudflare.com/ajax/libs/three.js/r71/three.min.js"></script>
	<script type = "text/javascript" type = "text/javascript">

		var ros = new ROSLIB.Ros(
			{
				url : 'ws://localhost:8080'
			});
		ros.on('connection', function() {console.log('Connected to websocket server.');});
		ros.on('error', function(error) { console.log('Error connecting to websocket server: ', error); window.alert('Error connecting to websocket server'); });
		ros.on('close', function() { console.log('Connection to websocket server closed.');});

		var listener = new ROSLIB.Topic({
			ros : ros,
			name : '/video_feed'
			messageType : 'usb_cam/image_raw'
		});
</script>
  <style>
  #container {
    margin: 0px auto;
    width: 500px;
    height: 375px;
    border: 10px #333 solid;
  }
  #videoElement {
    width: 500px;
    height: 375px;
    background-color: #666;
  }
  </style>
</head>

<body>
  
  <script>
  var video = document.querySelector("#videoElement");

  if (navigator.mediaDevices.getUserMedia) {
    navigator.mediaDevices.getUserMedia({ video: true })
      .then(function (stream) {
        video.srcObject = stream;
      })
      .catch(function (err0r) {
        console.log("Something went wrong!");
      });
  }
  </script>
  </body-->
<html>
    <head>
        <title>HTML5 Live Streaming Test</title>
    </head>
    <body>
        <img width="640" height="480" src="http://localhost:8080/stream?topic=/usb_cam/image_raw" ></img>
    </body>
</html>